var Constant={hostname:"http://192.168.0.102",defaultPageSize:10,keys:{GLOBAL_ID:"globalid",CLIENT_ID:"clientid",CLIENT_EMAIL:"clientemail",CLIENT_NICKNAME:"clientnickname",CLIENT_HEADURL:"clientheadurl",CLIENT_SIGNINDATE:"clientsignindate",CLIENT_SCORE:"clientscore",CLIENT_ADMIN:"clientadmin"},regex:{email:/^(\w-*\.*)+@(\w-?)+(\.\w{2,})+$/},init:function(){},convertToBase64JPG:function(a,c,b,e){return Constant.convertToBase64(a,"image/jpg",c,b,e)},convertToBase64PNG:function(a,c,b,e){return Constant.convertToBase64(a,
"image/png",c,b,e)},convertToBase64:function(a,c,b,e,h){var g=new Image;g.src=a;a=document.createElement("canvas");var d=g.width,f=g.height;d>f?d>b&&(f=Math.round(f*=b/d),d=b):f>e&&(d=Math.round(d*=e/f),f=e);a.width=d;a.height=f;a.getContext("2d").drawImage(g,0,0,d,f);c=a.toDataURL(c,h);return"data:,"==c.trim()?"":c.replace("data:image/png;base64,","")}},Ajax={url:{version:Constant.hostname+"/version/update.json",upload:Constant.hostname+"/upload",clientLogin:Constant.hostname+"/pub/client/app/login",
clientRegister:Constant.hostname+"/pub/client/app/register",clientSignin:Constant.hostname+"/pub/client/app/signin",clientModifyNickname:Constant.hostname+"/pub/client/app/modifynickname",clientModifyHeadUrl:Constant.hostname+"/pub/client/app/modifyheadurl",clientModifyPassword:Constant.hostname+"/pub/client/app/modifypassword",topicTypeList:Constant.hostname+"/bbs/topictype/app/list",topicEdit:Constant.hostname+"/bbs/topic/app/edit",topicList:Constant.hostname+"/bbs/topic/app/listByTopicType",topic:Constant.hostname+
"/bbs/topic/app/topic",commentEdit:Constant.hostname+"/bbs/comment/app/edit",commentList:Constant.hostname+"/bbs/comment/app/listByTopic",feedbackEdit:Constant.hostname+"/pub/feedback/app/edit",messageList:Constant.hostname+"/bbs/message/app/list",message:Constant.hostname+"/bbs/message/app/message"},timeout:2E4,ajax:function(a,c,b,e,h,g,d){h=h||function(a,b,c){mui.plusReady(function(){plus.nativeUI.closeWaiting();plus.nativeUI.toast(b);console.info(JSON.stringify(a));console.info(c)})};mui.plusReady(function(){b.uuid=
plus.device.uuid;mui.ajax(a,{type:c,data:b,dataType:g,success:function(a){a.success?e(a.data):d?d(a.message):(plus.nativeUI.closeWaiting(),plus.nativeUI.toast(a.message))},error:h,timeout:Ajax.timeout})})},post:function(a,c,b){Ajax.ajax(a,"POST",c,b,mui.noop(),"json")},get:function(a,c,b){Ajax.ajax(a,"GET",c,b,mui.noop(),"json")},isEmpty:function(a){return null==a||""==a||"null"==a||void 0==a||"undefined"==a},emptyResult:function(a){document.getElementById(a).innerHTML=
'<h4 class="mui-text-center" style="padding: 15px 0">\u6682\u65f6\u6ca1\u6709\u6570\u636e</h4>'}};
Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var b in c)(new RegExp("("+b+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[b]:("00"+c[b]).substr((""+c[b]).length)));return a};
