var Constant={hostname:"http://192.168.0.102",defaultPageSize:10,keys:{GLOBAL_ID:"globalid",CLIENT_ID:"clientid",CLIENT_EMAIL:"clientemail",CLIENT_NICKNAME:"clientnickname",CLIENT_HEADURL:"clientheadurl"},init:function(){},convertToBase64JPG:function(a,c,b,d){return Constant.convertToBase64(a,"image/jpg",c,b,d)},convertToBase64PNG:function(a,c,b,d){return Constant.convertToBase64(a,"image/png",c,b,d)},convertToBase64:function(a,c,b,d,h){var g=new Image;g.src=a;a=document.createElement("canvas");var e=
g.width,f=g.height;e>f?e>b&&(f=Math.round(f*=b/e),e=b):f>d&&(e=Math.round(e*=d/f),f=d);a.width=e;a.height=f;a.getContext("2d").drawImage(g,0,0,e,f);return a.toDataURL(c,h).replace("data:image/png;base64,","")}},Ajax={url:{version:Constant.hostname+"/version/update.json",upload:Constant.hostname+"/upload",clientLogin:Constant.hostname+"/pub/client/app/login",clientRegister:Constant.hostname+"/pub/client/app/register",topicTypeList:Constant.hostname+"/bbs/topictype/app/list",topicEdit:Constant.hostname+
"/bbs/topic/edit",topicList:Constant.hostname+"/bbs/topic/app/listByTopicType",topic:Constant.hostname+"/bbs/topic/app/topic",commentEdit:Constant.hostname+"/bbs/comment/edit",commentList:Constant.hostname+"/bbs/comment/app/listByTopic"},timeout:2E4,ajax:function(a,c,b,d,h,g,e){d=d||function(a,b,c){mui.plusReady(function(){plus.nativeUI.toast(b)})};h=h||function(a,b,c){mui.plusReady(function(){plus.nativeUI.closeWaiting();plus.nativeUI.toast(b);console.info(a);console.info(c)})};mui.ajax(a,{type:c||
"POST",data:b||{},dataType:g||"json",success:function(a){a.success?d(a.data):e?e(a.message):mui.plusReady(function(){plus.nativeUI.toast(a.message)})},error:h,timeout:Ajax.timeout})},post:function(a,c,b){Ajax.ajax(a,"POST",c,b,mui.noop(),"json")},get:function(a,c,b){Ajax.ajax(a,"GET",c,b,mui.noop(),"json")},isEmpty:function(a){return null==a||""==a||"null"==a||void 0==a}};
Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"H+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(a)&&(a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var b in c)(new RegExp("("+b+")")).test(a)&&(a=a.replace(RegExp.$1,1==RegExp.$1.length?c[b]:("00"+c[b]).substr((""+c[b]).length)));return a};
